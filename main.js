(()=>{"use strict";class e{constructor(){this.url="https://ahj-homeworks-helpdesk-server.onrender.com"}createForm(){const e=document.createElement("form");e.className="form hidden",e.method="POST",e.action=this.url;const t=document.createElement("h3");t.className="form_title",t.textContent="Добавить тикет",e.appendChild(t);const n=document.createElement("div");n.className="form_body";const o=document.createElement("span");o.className="form_title_1",o.textContent="Кратное описание";const s=document.createElement("input");s.className="form_input_1";const c=document.createElement("span");c.className="form_title_2",c.textContent="Подробное описание";const r=document.createElement("input");r.className="form_input_2",n.appendChild(o),n.appendChild(s),n.appendChild(c),n.appendChild(r),e.appendChild(n);const d=document.createElement("div");d.className="form_button";const a=document.createElement("button");a.className="form_btn_censel",a.textContent="Censel";const l=document.createElement("button");l.className="form_btn_ok",l.textContent=" OK ",d.appendChild(a),d.appendChild(l),e.appendChild(d),document.querySelector(".mein").appendChild(e)}}const t=document.getElementById("root"),n=new class{list(e){console.log(`list ${e}`);const t=new XMLHttpRequest;t.onreadystatechange=function(){4===t.readyState&&console.log(t.responseText)},t.open("GET","https://ahj-homeworks-helpdesk-server.onrender.com/?method=allTickets"),t.send()}get(e,t){console.log(`get ${e} ${t}`);const n=new XMLHttpRequest;n.onreadystatechange=function(){4===n.readyState&&console.log(n.responseText)},n.open("GET","https://ahj-homeworks-helpdesk-server.onrender.com/?method=ticketById&id="+e),n.send()}create(e,t){console.log(`create ${e} ${t}`);const n=new XMLHttpRequest;n.onreadystatechange=function(){4===n.readyState&&console.log(n.responseText)},n.open("POST","https://ahj-homeworks-helpdesk-server.onrender.com/?method=createTicket"),n.send()}update(e,t,n){console.log(`update ${e} ${t} ${n}`);const o=new XMLHttpRequest;o.onreadystatechange=function(){4===o.readyState&&console.log(o.responseText)},o.open("POST","https://ahj-homeworks-helpdesk-server.onrender.com/?method=updateById&id="+e),o.send()}delete(e,t){console.log(`delete ${e} ${t}`);const n=new XMLHttpRequest;n.onreadystatechange=function(){4===n.readyState&&console.log(n.responseText)},n.open("GET","https://ahj-homeworks-helpdesk-server.onrender.com/?method=deleteById&id="+e),n.send()}},o=new class{constructor(t,n){if(!(t instanceof HTMLElement))throw new Error("This is not HTML element!");this.container=t,this.ticketService=n,this.ticketForm=new e}init(){console.info("init"),this.ticketForm.createForm();const e=document.querySelector(".btn_add_ticket"),t=document.querySelector(".form_btn_censel"),n=document.querySelector(".mein").querySelector(".form");e.addEventListener("click",(e=>{e.preventDefault(),n.classList.remove("hidden")})),t.addEventListener("click",(e=>{e.preventDefault(),n.classList.add("hidden")})),n.addEventListener("submit",(e=>{e.preventDefault();const t=new XMLHttpRequest;t.onreadystatechange=function(){4===t.readyState&&console.log(t.responseText)},t.open("GET","https://ahj-homeworks-helpdesk-server.onrender.com/?method=allTickets"),t.send()}))}}(t,n);o.init()})();